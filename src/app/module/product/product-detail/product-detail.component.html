<header-page>
    <div class="d-flex justify-content-between">
        <i class="bi bi-arrow-left button-back" routerLink="/product"></i>
        <div class="d-flex flex-row">
            <div class="position-relative">
                <i class="bi bi-cart icon-header" (click)="goToCart()"></i>
                <span class="position-absolute mark-cart translate-middle badge bg-danger">
                    {{totalOrders}}
                    <span class="visually-hidden">unread messages</span>
                </span>
            </div>
            <i class="bi bi-list icon-header"></i>
        </div>
    </div>
</header-page>

<div class="overflow-auto py-3 my-5" style="height: 48em;">
    <div class="d-flex flex-column h-auto mb-5">
        <img [src]="productDetail.images[0]" alt="">
        <div class="d-flex flex-column m-3">
            <p>{{productDetail.title}}</p>
            <div class="d-flex justify-content-between">
                <div class="d-flex flex-column">
                    <h4 class="font-bold">
                        Rp{{productDetail.discountPrice | number}}
                    </h4>
                    <div class="d-flex flex-row my-1" *ngIf="productDetail.discount > 0">
                        <div class="badge background-secondary">
                            {{productDetail.discount}}%
                        </div>
                        <h6 class="text-decoration-line-through mx-1">
                            Rp{{productDetail.price | number}}
                        </h6>
                    </div>
                </div>
                <div class="d-flex flex-wrap">
                    <i class="bi bi-heart like-icon m-1"></i>
                </div>
            </div>

            <div class="d-flex flex-row ">
                <div class="d-flex flex-row justify-content-center">
                    <p class="my-2">Terjual</p>
                    <p class="mx-1 my-2">{{productDetail.sale}}</p>
                </div>
                <div class="d-flex flex-row card-info mx-1">
                    <i class="bi bi-star-fill icon-star mx-1"></i>
                    <span class="mx-1">{{productDetail.feedback}}</span>
                    <span class="color-gray mx-1">(120)</span>
                </div>
                <div class="d-flex flex-row card-info mx-1">
                    <i class="bi bi-star-fill icon-star mx-1"></i>
                    <span class="color-gray mx-1">{{productDetail.feedback_by_capture}}</span>
                </div>
                <div class="d-flex flex-row card-info mx-1">
                    <i class="bi bi-star-fill icon-star mx-1"></i>
                    <span class="color-gray mx-1">{{productDetail.feedback_by_desc}}</span>
                </div>
            </div>
        </div>

        <div class="line-gray"></div>
        <!-- Detail Product -->
        <div class="d-flex flex-column p-3">
            <h3 class="font-bold">Detail produk</h3>
            <div class="d-flex flex-column my-1">
                <div class="d-flex flex-row">
                    <p>Kondisi</p>
                    <span class="mx-5">{{productDetail.item_condition}}</span>
                </div>
                <div class="line"></div>
            </div>
            <div class="d-flex flex-column my-1">
                <div class="d-flex flex-row">
                    <p>Etalase</p>
                    <span class="color-primary font-bold mx-5">{{productDetail.etalase | titlecase}}</span>

                </div>
                <div class="line"></div>
            </div>
        </div>
        <!-- Deskripsi produk -->
        <div class="d-flex flex-column px-3">
            <h3 class="font-bold">Deskripsi produk</h3>
            <span class="my-1">
                {{productDetail.description}}
            </span>
        </div>

        <div class="line-gray my-4"></div>

        <div class="d-flex flex-column px-3">
            <div class="d-flex flex-row">
                <img class="store-img my-1" [src]="productDetail.store_img" alt="">
                <div class="d-flex flex-column mx-4">
                    <h3 class="font-bold">{{productDetail.store_name}}</h3>
                    <span class="color-gray">{{productDetail.store_location}}</span>
                </div>
            </div>
            <div class="d-flex flex-row mt-2 mx-3">
                <i class="bi bi-star"></i>
                <span class="d-flex flex-row mx-2">
                    {{productDetail.feedback}}
                    <p class="mx-1">rata-rata ulasan</p>
                </span>
            </div>
            <div class="d-flex flex-row mx-3">
                <i class="bi bi-clock"></i>
                <span class="d-flex flex-row mx-2">
                    <i class="bi bi-plus-slash-minus"></i>
                    <span class="mx-1">8 jam</span>
                    <p class="mx-1">pesanan diproses</p>
                </span>
            </div>
        </div>


    </div>
</div>


<footer-page>
    <div class="d-flex justify-content-between">
        <div class="card-rounded p-3">
            <i class="bi bi-chat-left-text"></i>
        </div>
        <button class="btn  btn-outline-success w-100  mx-2 btn-sm">Beli Langsung</button>
        <button class="btn btn-sm btn-success w-100" (click)="addToCart()">
            <i class="bi bi-plus"></i> Keranjang
        </button>
    </div>
</footer-page>